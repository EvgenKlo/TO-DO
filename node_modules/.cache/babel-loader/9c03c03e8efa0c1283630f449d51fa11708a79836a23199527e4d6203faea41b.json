{"ast":null,"code":"import _objectSpread from\"E:/to-do/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"E:/to-do/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"E:/to-do/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Modal,Stack,TextField,Typography}from'@mui/material';import{Actions}from'../../types/types';import{useState}from'react';import{useDispatch}from'react-redux';import{useAppSelector}from'../../hooks/useAppSelector';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',minWidth:320,bgcolor:'background.paper',boxShadow:24,p:4,borderRadius:5,boxSizing:'border-box'};var AddProjectModal=function AddProjectModal(_ref){var modalOpen=_ref.modalOpen,setModalOpen=_ref.setModalOpen,projectId=_ref.projectId;var state=useAppSelector(function(state){return state.projects;});var handleClose=function handleClose(){return setModalOpen(false);};var dispatch=useDispatch();var _useState=useState({name:'',description:'',id:projectId}),_useState2=_slicedToArray(_useState,2),project=_useState2[0],setProject=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var newProjects=[].concat(_toConsumableArray(state),[_objectSpread(_objectSpread({},project),{},{id:projectId})]);localStorage.setItem('01MyToDoList23',JSON.stringify(newProjects));dispatch({type:Actions.AddProject,payload:_objectSpread(_objectSpread({},project),{},{id:projectId,tasks:[]})});handleClose();};return/*#__PURE__*/_jsx(Modal,{open:modalOpen,onClose:handleClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsxs(Box,{sx:style,children:[/*#__PURE__*/_jsxs(Typography,{id:\"modal-modal-title\",variant:\"h5\",component:\"h2\",sx:{marginBottom:1},children:[\"Project number \",projectId]}),/*#__PURE__*/_jsx(Box,{component:\"form\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"Enter the project name\",label:\"Enter the project name\",onChange:function onChange(event){setProject(_objectSpread(_objectSpread({},project),{},{name:event.target.value}));}}),/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"What is the project about?\",label:\"What is the project about?\",onChange:function onChange(event){setProject(_objectSpread(_objectSpread({},project),{},{description:event.target.value}));}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Add project\"})]})})]})});};export default AddProjectModal;","map":{"version":3,"names":["Box","Button","Modal","Stack","TextField","Typography","Actions","useState","useDispatch","useAppSelector","jsxs","_jsxs","jsx","_jsx","style","position","top","left","transform","minWidth","bgcolor","boxShadow","p","borderRadius","boxSizing","AddProjectModal","_ref","modalOpen","setModalOpen","projectId","state","projects","handleClose","dispatch","_useState","name","description","id","_useState2","_slicedToArray","project","setProject","handleSubmit","event","preventDefault","newProjects","concat","_toConsumableArray","_objectSpread","localStorage","setItem","JSON","stringify","type","AddProject","payload","tasks","open","onClose","children","sx","variant","component","marginBottom","onSubmit","spacing","required","placeholder","label","onChange","target","value"],"sources":["E:/to-do/src/components/main/AddProjectModal.tsx"],"sourcesContent":["import { Box, Button, Modal, Stack, TextField, Typography } from '@mui/material';\r\nimport { Actions, Project } from '../../types/types';\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\n\r\nconst style = {\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  minWidth: 320,\r\n  bgcolor: 'background.paper',\r\n  boxShadow: 24,\r\n  p: 4,\r\n  borderRadius: 5,\r\n  boxSizing: 'border-box',\r\n};\r\n\r\nconst AddProjectModal: React.FC<{\r\n  modalOpen: false | true;\r\n\r\n  setModalOpen: React.Dispatch<React.SetStateAction<false | true>>;\r\n\r\n  projectId: number;\r\n}> = ({ modalOpen, setModalOpen, projectId }) => {\r\n  const state = useAppSelector((state) => state.projects);\r\n\r\n  const handleClose = () => setModalOpen(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [project, setProject] = useState({\r\n    name: '',\r\n    description: '',\r\n    id: projectId,\r\n  } as Project);\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    const newProjects = [...state, { ...project, id: projectId }];\r\n    localStorage.setItem('01MyToDoList23', JSON.stringify(newProjects));\r\n\r\n    dispatch({ type: Actions.AddProject, payload: { ...project, id: projectId, tasks: [] } });\r\n\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      open={modalOpen}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"modal-modal-title\"\r\n      aria-describedby=\"modal-modal-description\"\r\n    >\r\n      <Box sx={style}>\r\n        <Typography\r\n          id=\"modal-modal-title\"\r\n          variant=\"h5\"\r\n          component=\"h2\"\r\n          sx={{ marginBottom: 1 }}\r\n        >\r\n          Project number {projectId}\r\n        </Typography>\r\n        <Box\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              required\r\n              placeholder=\"Enter the project name\"\r\n              label=\"Enter the project name\"\r\n              onChange={(event) => {\r\n                setProject({ ...project, name: event.target.value });\r\n              }}\r\n            />\r\n            <TextField\r\n              required\r\n              placeholder=\"What is the project about?\"\r\n              label=\"What is the project about?\"\r\n              onChange={(event) => {\r\n                setProject({ ...project, description: event.target.value });\r\n              }}\r\n            />\r\n            <Button type=\"submit\">Add project</Button>\r\n          </Stack>\r\n        </Box>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddProjectModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}